(()=>{"use strict";const e=document.querySelector(".locationSubmit"),t=document.querySelector(".toF"),a=e=>{const t={highestC:e.forecast.forecastday[0].day.maxtemp_c,lowestC:e.forecast.forecastday[0].day.mintemp_c,highestF:e.forecast.forecastday[0].day.maxtemp_f,lowestF:e.forecast.forecastday[0].day.mintemp_f,threeDayForecast:e.forecast.forecastday,getThreeDayMaxAndMinTemp(){const e=[],t=[],a=[],n=[],o=[],r=[],c=[];return this.threeDayForecast.forEach((s=>{e.push(s.day.maxtemp_c),t.push(s.day.mintemp_c),a.push(s.day.maxtemp_f),n.push(s.day.mintemp_f),o.push(s.day.condition.icon),r.push(s.day.condition.text),c.push(s.date)})),{maxTempArrayC:e,minTempArrayC:t,maxTempArrayF:a,minTempArrayF:n,conditionIconsArray:o,conditionTextArray:r,dateArray:c}}};return t},n=async function(e){const t=`http://api.weatherapi.com/v1/forecast.json?key=1d38f27405c74273950235259231107&q=${e}&days=3`;try{const e=await fetch(t,{mode:"cors"}),n=await e.json();(e=>{const t=document.querySelector(".currentWeather"),a=document.querySelector(".forecastDataContainer"),n=document.querySelector(".high"),o=document.querySelector(".low"),r=document.querySelectorAll(".day"),c=document.querySelectorAll(".conditionIcon"),s=document.querySelectorAll(".conditionText"),i=document.querySelectorAll(".forecastTemp");"celsius"===t.dataset.value?(n.textContent=`H: ${e.highestC} °C`,o.textContent=`L: ${e.lowestC} °C`):"fahrenheit"===t.dataset.value&&(n.textContent=`H: ${e.highestF} °F`,o.textContent=`L: ${e.lowestF} °F`),r.forEach(((t,a)=>{const n=t,o=e.getThreeDayMaxAndMinTemp().dateArray[a];n.textContent=new Date(o).toLocaleString("en-EN",{weekday:"long"})})),c.forEach(((t,a)=>{t.src=e.getThreeDayMaxAndMinTemp().conditionIconsArray[a]})),s.forEach(((t,a)=>{t.textContent=e.getThreeDayMaxAndMinTemp().conditionTextArray[a]})),i.forEach(((t,n)=>{const o=t;"celsius"===a.dataset.value?o.textContent=`${e.getThreeDayMaxAndMinTemp().maxTempArrayC[n]}°C / ${e.getThreeDayMaxAndMinTemp().minTempArrayC[n]} °C`:"fahrenheit"===a.dataset.value&&(o.textContent=`${e.getThreeDayMaxAndMinTemp().maxTempArrayF[n]}°F / ${e.getThreeDayMaxAndMinTemp().minTempArrayF[n]} °F`)}))})(a(n)),a(n),console.log(a(n))}catch(e){console.log(e)}},o=async e=>{const t=`http://api.weatherapi.com/v1/current.json?key=1d38f27405c74273950235259231107&q=${e}`;try{const e=await fetch(t,{mode:"cors"});(e=>{const t=document.querySelector(".location"),a=document.querySelector(".currentTemp"),n=document.querySelector(".condition"),o=document.querySelector(".currentWeather");t.textContent=`${e.name}, ${e.region}, ${e.country}`,n.textContent=`${e.condition}`,"celsius"===o.dataset.value?a.textContent=`${e.temperatureC} °C`:"fahrenheit"===o.dataset.value&&(a.textContent=`${e.temperatureF} °F`)})({country:(a=await e.json()).location.country,name:a.location.name,region:a.location.region,condition:a.current.condition.text,temperatureF:a.current.temp_f,temperatureC:a.current.temp_c,humidity:a.current.humidity}),e.ok||console.log(`Error: ${e.status} ${e.statusText}`)}catch(e){console.log(e)}var a};n("Paris"),o("Paris"),e.addEventListener("click",(e=>{const t=document.querySelector("#inputLocation"),a=t.value;o(a),n(a),t.value="",e.preventDefault()})),t.addEventListener("click",(e=>{const t=document.querySelector(".location").textContent,a=document.querySelector(".currentWeather"),r=document.querySelector(".forecastDataContainer"),c=a.dataset.value,s=r.dataset.value,i=e;"celsius"===c||"celsius"===s?(a.dataset.value="fahrenheit",r.dataset.value="fahrenheit",o(t),n(t),i.target.textContent="Display °C"):"fahrenheit"!==c&&"fahrenheit"!==s||(a.dataset.value="celsius",r.dataset.value="celsius",o(t),n(t),i.target.textContent="Display °F")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFBQSxNQUFNQSxFQUFpQkMsU0FBU0MsY0FBYyxtQkFDeENDLEVBQXFCRixTQUFTQyxjQUFjLFFDQzVDRSxFQUF1QkMsSUFDM0IsTUFBTUMsRUFBZSxDQUNuQkMsU0FBVUYsRUFBS0csU0FBU0MsWUFBWSxHQUFHQyxJQUFJQyxVQUMzQ0MsUUFBU1AsRUFBS0csU0FBU0MsWUFBWSxHQUFHQyxJQUFJRyxVQUMxQ0MsU0FBVVQsRUFBS0csU0FBU0MsWUFBWSxHQUFHQyxJQUFJSyxVQUMzQ0MsUUFBU1gsRUFBS0csU0FBU0MsWUFBWSxHQUFHQyxJQUFJTyxVQUMxQ0MsaUJBQWtCYixFQUFLRyxTQUFTQyxZQUNoQ1UsMkJBQ0UsTUFBTUMsRUFBZ0IsR0FDaEJDLEVBQWdCLEdBQ2hCQyxFQUFnQixHQUNoQkMsRUFBZ0IsR0FDaEJDLEVBQXNCLEdBQ3RCQyxFQUFxQixHQUNyQkMsRUFBWSxHQVVsQixPQVRBQyxLQUFLVCxpQkFBaUJVLFNBQVNwQixJQUM3QlksRUFBY1MsS0FBS3JCLEVBQVNFLElBQUlDLFdBQ2hDVSxFQUFjUSxLQUFLckIsRUFBU0UsSUFBSUcsV0FDaENTLEVBQWNPLEtBQUtyQixFQUFTRSxJQUFJSyxXQUNoQ1EsRUFBY00sS0FBS3JCLEVBQVNFLElBQUlPLFdBQ2hDTyxFQUFvQkssS0FBS3JCLEVBQVNFLElBQUlvQixVQUFVQyxNQUNoRE4sRUFBbUJJLEtBQUtyQixFQUFTRSxJQUFJb0IsVUFBVUUsTUFDL0NOLEVBQVVHLEtBQUtyQixFQUFTeUIsS0FBSyxJQUV4QixDQUNMYixnQkFDQUMsZ0JBQ0FDLGdCQUNBQyxnQkFDQUMsc0JBQ0FDLHFCQUNBQyxZQUVKLEdBRUYsT0FBT3BCLENBQVksRUFrQnJCLEVBZkE0QixlQUFpQ0MsR0FDL0IsTUFBTUMsRUFBYyxvRkFBb0ZELFdBRXhHLElBQ0UsTUFBTUUsUUFBaUJDLE1BQU1GLEVBQWEsQ0FBRUcsS0FBTSxTQUM1Q2xDLFFBQWFnQyxFQUFTRyxPRDFCUixDQUFDbkMsSUFDdkIsTUFBTW9DLEVBQWlCeEMsU0FBU0MsY0FBYyxtQkFDeEN3QyxFQUFvQnpDLFNBQVNDLGNBQWMsMEJBQzNDeUMsRUFBTzFDLFNBQVNDLGNBQWMsU0FDOUIwQyxFQUFNM0MsU0FBU0MsY0FBYyxRQUM3QmdCLEVBQW1CakIsU0FBUzRDLGlCQUFpQixRQUM3Q0MsRUFBZ0I3QyxTQUFTNEMsaUJBQWlCLGtCQUMxQ0UsRUFBZ0I5QyxTQUFTNEMsaUJBQWlCLGtCQUMxQ0csRUFBZS9DLFNBQVM0QyxpQkFBaUIsaUJBRVYsWUFBakNKLEVBQWVRLFFBQVFDLE9BQ3pCUCxFQUFLUSxZQUFjLE1BQU05QyxFQUFLRSxjQUM5QnFDLEVBQUlPLFlBQWMsTUFBTTlDLEVBQUtPLGNBQ2EsZUFBakM2QixFQUFlUSxRQUFRQyxRQUNoQ1AsRUFBS1EsWUFBYyxNQUFNOUMsRUFBS1MsY0FDOUI4QixFQUFJTyxZQUFjLE1BQU05QyxFQUFLVyxjQUcvQkUsRUFBaUJVLFNBQVEsQ0FBQ2xCLEVBQUswQyxLQUM3QixNQUFNQyxFQUFXM0MsRUFDWGdCLEVBQVlyQixFQUFLYywyQkFBMkJPLFVBQVUwQixHQUM1REMsRUFBU0YsWUFBYyxJQUFJRyxLQUFLNUIsR0FBVzZCLGVBQWUsUUFBUyxDQUNqRUMsUUFBUyxRQUNULElBR0pWLEVBQWNsQixTQUFRLENBQUNHLEVBQU1xQixLQUNQckIsRUFDUjBCLElBQ1ZwRCxFQUFLYywyQkFBMkJLLG9CQUFvQjRCLEVBQU0sSUFHOURMLEVBQWNuQixTQUFRLENBQUNJLEVBQU1vQixLQUNKcEIsRUFDUm1CLFlBQ2I5QyxFQUFLYywyQkFBMkJNLG1CQUFtQjJCLEVBQU0sSUFHN0RKLEVBQWFwQixTQUFRLENBQUNwQixFQUFVNEMsS0FDOUIsTUFBTU0sRUFBZWxELEVBRW1CLFlBQXBDa0MsRUFBa0JPLFFBQVFDLE1BQzVCUSxFQUFhUCxZQUFjLEdBQ3pCOUMsRUFBS2MsMkJBQTJCQyxjQUFjZ0MsVUFDeEMvQyxFQUFLYywyQkFBMkJFLGNBQWMrQixRQUNULGVBQXBDVixFQUFrQk8sUUFBUUMsUUFDbkNRLEVBQWFQLFlBQWMsR0FDekI5QyxFQUFLYywyQkFBMkJHLGNBQWM4QixVQUN4Qy9DLEVBQUtjLDJCQUEyQkksY0FBYzZCLFFBQ3hELEdBQ0EsRUN0QkFPLENBRG1CdkQsRUFBb0JDLElBRXZDRCxFQUFvQkMsR0FDcEJ1RCxRQUFRQyxJQUFJekQsRUFBb0JDLEdBQ2xDLENBQUUsTUFBT3lELEdBQ1BGLFFBQVFDLElBQUlDLEVBQ2QsQ0FDRixFQ3RCQSxFQWhCeUI1QixNQUFPQyxJQUM5QixNQUFNNEIsRUFBYyxtRkFBbUY1QixJQUV2RyxJQUNFLE1BQU1FLFFBQWlCQyxNQUFNeUIsRUFBYSxDQUFFeEIsS0FBTSxTRmhCeEIsQ0FBQ2xDLElBQzdCLE1BQU04QixFQUFXbEMsU0FBU0MsY0FBYyxhQUNsQzhELEVBQWMvRCxTQUFTQyxjQUFjLGdCQUNyQzRCLEVBQVk3QixTQUFTQyxjQUFjLGNBQ25DdUMsRUFBaUJ4QyxTQUFTQyxjQUFjLG1CQUU5Q2lDLEVBQVNnQixZQUFjLEdBQUc5QyxFQUFLNEQsU0FBUzVELEVBQUs2RCxXQUFXN0QsRUFBSzhELFVBQzdEckMsRUFBVXFCLFlBQWMsR0FBRzlDLEVBQUt5QixZQUVLLFlBQWpDVyxFQUFlUSxRQUFRQyxNQUN6QmMsRUFBWWIsWUFBYyxHQUFHOUMsRUFBSytELGtCQUNRLGVBQWpDM0IsRUFBZVEsUUFBUUMsUUFDaENjLEVBQVliLFlBQWMsR0FBRzlDLEVBQUtnRSxrQkFDcEMsRUVNRUMsQ0FuQm1CLENBQ25CSCxTQUYrQjlELFFBa0JaZ0MsRUFBU0csUUFoQmRMLFNBQVNnQyxRQUN2QkYsS0FBTTVELEVBQUs4QixTQUFTOEIsS0FDcEJDLE9BQVE3RCxFQUFLOEIsU0FBUytCLE9BQ3RCcEMsVUFBV3pCLEVBQUtrRSxRQUFRekMsVUFBVUUsS0FDbENxQyxhQUFjaEUsRUFBS2tFLFFBQVFDLE9BQzNCSixhQUFjL0QsRUFBS2tFLFFBQVFFLE9BQzNCQyxTQUFVckUsRUFBS2tFLFFBQVFHLFdBYWxCckMsRUFBU3NDLElBQ1pmLFFBQVFDLElBQUksVUFBVXhCLEVBQVN1QyxVQUFVdkMsRUFBU3dDLGFBRXRELENBQUUsTUFBT2YsR0FDUEYsUUFBUUMsSUFBSUMsRUFDZCxDQTFCZ0MsSUFBQ3pELENBMEJqQyxFQ3hCRixFQUFrQixTQUNsQixFQUFpQixTQUVqQkwsRUFBZThFLGlCQUFpQixTQUFVQyxJQUN4QyxNQUFNNUMsRUFBV2xDLFNBQVNDLGNBQWMsa0JBQ2xDOEUsRUFBZ0I3QyxFQUFTZSxNQUUvQixFQUFpQjhCLEdBQ2pCLEVBQWtCQSxHQUVsQjdDLEVBQVNlLE1BQVEsR0FDakI2QixFQUFNRSxnQkFBZ0IsSUFHeEI5RSxFQUFtQjJFLGlCQUFpQixTQUFVQyxJQUM1QyxNQUFNRyxFQUFlakYsU0FBU0MsY0FBYyxhQUFhaUQsWUFDbkRWLEVBQWlCeEMsU0FBU0MsY0FBYyxtQkFDeEN3QyxFQUFvQnpDLFNBQVNDLGNBQWMsMEJBQzNDaUYsRUFBc0IxQyxFQUFlUSxRQUFRQyxNQUM3Q2tDLEVBQXlCMUMsRUFBa0JPLFFBQVFDLE1BQ25EbUMsRUFBWU4sRUFHUSxZQUF4QkksR0FDMkIsWUFBM0JDLEdBRUEzQyxFQUFlUSxRQUFRQyxNQUFRLGFBQy9CUixFQUFrQk8sUUFBUUMsTUFBUSxhQUNsQyxFQUFpQmdDLEdBQ2pCLEVBQWtCQSxHQUNsQkcsRUFBVUMsT0FBT25DLFlBQWMsY0FFUCxlQUF4QmdDLEdBQzJCLGVBQTNCQyxJQUVBM0MsRUFBZVEsUUFBUUMsTUFBUSxVQUMvQlIsRUFBa0JPLFFBQVFDLE1BQVEsVUFDbEMsRUFBaUJnQyxHQUNqQixFQUFrQkEsR0FDbEJHLEVBQVVDLE9BQU9uQyxZQUFjLGFBQ2pDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvc2l0b3J5Ly4vc3JjL21vZHVsZXMvdmlldy9kb20uanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwb3NpdG9yeS8uL3NyYy9tb2R1bGVzL2xvZ2ljL2ZvcmVjYXN0LmpzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG9zaXRvcnkvLi9zcmMvbW9kdWxlcy9sb2dpYy9yZWFsdGltZVdlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwb3NpdG9yeS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBsb2NhdGlvblN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9jYXRpb25TdWJtaXRcIik7XG5jb25zdCB0b0ZhaHJlbmhlaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvRlwiKTtcblxuY29uc3QgZGlzcGxheUN1cnJlbnRXZWF0aGVyID0gKGRhdGEpID0+IHtcbiAgY29uc3QgbG9jYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvY2F0aW9uXCIpO1xuICBjb25zdCBjdXJyZW50VGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VycmVudFRlbXBcIik7XG4gIGNvbnN0IGNvbmRpdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29uZGl0aW9uXCIpO1xuICBjb25zdCBjdXJyZW50V2VhdGhlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VycmVudFdlYXRoZXJcIik7XG5cbiAgbG9jYXRpb24udGV4dENvbnRlbnQgPSBgJHtkYXRhLm5hbWV9LCAke2RhdGEucmVnaW9ufSwgJHtkYXRhLmNvdW50cnl9YDtcbiAgY29uZGl0aW9uLnRleHRDb250ZW50ID0gYCR7ZGF0YS5jb25kaXRpb259YDtcblxuICBpZiAoY3VycmVudFdlYXRoZXIuZGF0YXNldC52YWx1ZSA9PT0gXCJjZWxzaXVzXCIpIHtcbiAgICBjdXJyZW50VGVtcC50ZXh0Q29udGVudCA9IGAke2RhdGEudGVtcGVyYXR1cmVDfSDCsENgO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRXZWF0aGVyLmRhdGFzZXQudmFsdWUgPT09IFwiZmFocmVuaGVpdFwiKSB7XG4gICAgY3VycmVudFRlbXAudGV4dENvbnRlbnQgPSBgJHtkYXRhLnRlbXBlcmF0dXJlRn0gwrBGYDtcbiAgfVxufTtcblxuY29uc3QgZGlzcGxheUZvcmVjYXN0ID0gKGRhdGEpID0+IHtcbiAgY29uc3QgY3VycmVudFdlYXRoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmN1cnJlbnRXZWF0aGVyXCIpO1xuICBjb25zdCBmb3JlY2FzdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9yZWNhc3REYXRhQ29udGFpbmVyXCIpO1xuICBjb25zdCBoaWdoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oaWdoXCIpO1xuICBjb25zdCBsb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvd1wiKTtcbiAgY29uc3QgdGhyZWVEYXlGb3JlY2FzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGF5XCIpO1xuICBjb25zdCBjb25kaXRpb25JY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb25kaXRpb25JY29uXCIpO1xuICBjb25zdCBjb25kaXRpb25UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb25kaXRpb25UZXh0XCIpO1xuICBjb25zdCBmb3JlY2FzdFRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcmVjYXN0VGVtcFwiKTtcblxuICBpZiAoY3VycmVudFdlYXRoZXIuZGF0YXNldC52YWx1ZSA9PT0gXCJjZWxzaXVzXCIpIHtcbiAgICBoaWdoLnRleHRDb250ZW50ID0gYEg6ICR7ZGF0YS5oaWdoZXN0Q30gwrBDYDtcbiAgICBsb3cudGV4dENvbnRlbnQgPSBgTDogJHtkYXRhLmxvd2VzdEN9IMKwQ2A7XG4gIH0gZWxzZSBpZiAoY3VycmVudFdlYXRoZXIuZGF0YXNldC52YWx1ZSA9PT0gXCJmYWhyZW5oZWl0XCIpIHtcbiAgICBoaWdoLnRleHRDb250ZW50ID0gYEg6ICR7ZGF0YS5oaWdoZXN0Rn0gwrBGYDtcbiAgICBsb3cudGV4dENvbnRlbnQgPSBgTDogJHtkYXRhLmxvd2VzdEZ9IMKwRmA7XG4gIH1cblxuICB0aHJlZURheUZvcmVjYXN0LmZvckVhY2goKGRheSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBkYXRlVGV4dCA9IGRheTtcbiAgICBjb25zdCBkYXRlQXJyYXkgPSBkYXRhLmdldFRocmVlRGF5TWF4QW5kTWluVGVtcCgpLmRhdGVBcnJheVtpbmRleF07XG4gICAgZGF0ZVRleHQudGV4dENvbnRlbnQgPSBuZXcgRGF0ZShkYXRlQXJyYXkpLnRvTG9jYWxlU3RyaW5nKFwiZW4tRU5cIiwge1xuICAgICAgd2Vla2RheTogXCJsb25nXCIsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbmRpdGlvbkljb24uZm9yRWFjaCgoaWNvbiwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB3ZWF0aGVySWNvbiA9IGljb247XG4gICAgd2VhdGhlckljb24uc3JjID1cbiAgICAgIGRhdGEuZ2V0VGhyZWVEYXlNYXhBbmRNaW5UZW1wKCkuY29uZGl0aW9uSWNvbnNBcnJheVtpbmRleF07XG4gIH0pO1xuXG4gIGNvbmRpdGlvblRleHQuZm9yRWFjaCgodGV4dCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBjb25kaXRpb25UZXh0cyA9IHRleHQ7XG4gICAgY29uZGl0aW9uVGV4dHMudGV4dENvbnRlbnQgPVxuICAgICAgZGF0YS5nZXRUaHJlZURheU1heEFuZE1pblRlbXAoKS5jb25kaXRpb25UZXh0QXJyYXlbaW5kZXhdO1xuICB9KTtcblxuICBmb3JlY2FzdFRlbXAuZm9yRWFjaCgoZm9yZWNhc3QsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgZm9yZWNhc3RUZXh0ID0gZm9yZWNhc3Q7XG5cbiAgICBpZiAoZm9yZWNhc3RDb250YWluZXIuZGF0YXNldC52YWx1ZSA9PT0gXCJjZWxzaXVzXCIpIHtcbiAgICAgIGZvcmVjYXN0VGV4dC50ZXh0Q29udGVudCA9IGAke1xuICAgICAgICBkYXRhLmdldFRocmVlRGF5TWF4QW5kTWluVGVtcCgpLm1heFRlbXBBcnJheUNbaW5kZXhdXG4gICAgICB9wrBDIC8gJHtkYXRhLmdldFRocmVlRGF5TWF4QW5kTWluVGVtcCgpLm1pblRlbXBBcnJheUNbaW5kZXhdfSDCsENgO1xuICAgIH0gZWxzZSBpZiAoZm9yZWNhc3RDb250YWluZXIuZGF0YXNldC52YWx1ZSA9PT0gXCJmYWhyZW5oZWl0XCIpIHtcbiAgICAgIGZvcmVjYXN0VGV4dC50ZXh0Q29udGVudCA9IGAke1xuICAgICAgICBkYXRhLmdldFRocmVlRGF5TWF4QW5kTWluVGVtcCgpLm1heFRlbXBBcnJheUZbaW5kZXhdXG4gICAgICB9wrBGIC8gJHtkYXRhLmdldFRocmVlRGF5TWF4QW5kTWluVGVtcCgpLm1pblRlbXBBcnJheUZbaW5kZXhdfSDCsEZgO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQge1xuICBsb2NhdGlvblN1Ym1pdCxcbiAgdG9GYWhyZW5oZWl0QnV0dG9uLFxuICBkaXNwbGF5Q3VycmVudFdlYXRoZXIsXG4gIGRpc3BsYXlGb3JlY2FzdCxcbn07XG4iLCJpbXBvcnQgeyBkaXNwbGF5Rm9yZWNhc3QgfSBmcm9tIFwiLi4vdmlldy9kb21cIjtcblxuY29uc3QgY29sbGVjdEZvcmVjYXN0RGF0YSA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IGZvcmVjYXN0RGF0YSA9IHtcbiAgICBoaWdoZXN0QzogZGF0YS5mb3JlY2FzdC5mb3JlY2FzdGRheVswXS5kYXkubWF4dGVtcF9jLFxuICAgIGxvd2VzdEM6IGRhdGEuZm9yZWNhc3QuZm9yZWNhc3RkYXlbMF0uZGF5Lm1pbnRlbXBfYyxcbiAgICBoaWdoZXN0RjogZGF0YS5mb3JlY2FzdC5mb3JlY2FzdGRheVswXS5kYXkubWF4dGVtcF9mLFxuICAgIGxvd2VzdEY6IGRhdGEuZm9yZWNhc3QuZm9yZWNhc3RkYXlbMF0uZGF5Lm1pbnRlbXBfZixcbiAgICB0aHJlZURheUZvcmVjYXN0OiBkYXRhLmZvcmVjYXN0LmZvcmVjYXN0ZGF5LFxuICAgIGdldFRocmVlRGF5TWF4QW5kTWluVGVtcCgpIHtcbiAgICAgIGNvbnN0IG1heFRlbXBBcnJheUMgPSBbXTtcbiAgICAgIGNvbnN0IG1pblRlbXBBcnJheUMgPSBbXTtcbiAgICAgIGNvbnN0IG1heFRlbXBBcnJheUYgPSBbXTtcbiAgICAgIGNvbnN0IG1pblRlbXBBcnJheUYgPSBbXTtcbiAgICAgIGNvbnN0IGNvbmRpdGlvbkljb25zQXJyYXkgPSBbXTtcbiAgICAgIGNvbnN0IGNvbmRpdGlvblRleHRBcnJheSA9IFtdO1xuICAgICAgY29uc3QgZGF0ZUFycmF5ID0gW107XG4gICAgICB0aGlzLnRocmVlRGF5Rm9yZWNhc3QuZm9yRWFjaCgoZm9yZWNhc3QpID0+IHtcbiAgICAgICAgbWF4VGVtcEFycmF5Qy5wdXNoKGZvcmVjYXN0LmRheS5tYXh0ZW1wX2MpO1xuICAgICAgICBtaW5UZW1wQXJyYXlDLnB1c2goZm9yZWNhc3QuZGF5Lm1pbnRlbXBfYyk7XG4gICAgICAgIG1heFRlbXBBcnJheUYucHVzaChmb3JlY2FzdC5kYXkubWF4dGVtcF9mKTtcbiAgICAgICAgbWluVGVtcEFycmF5Ri5wdXNoKGZvcmVjYXN0LmRheS5taW50ZW1wX2YpO1xuICAgICAgICBjb25kaXRpb25JY29uc0FycmF5LnB1c2goZm9yZWNhc3QuZGF5LmNvbmRpdGlvbi5pY29uKTtcbiAgICAgICAgY29uZGl0aW9uVGV4dEFycmF5LnB1c2goZm9yZWNhc3QuZGF5LmNvbmRpdGlvbi50ZXh0KTtcbiAgICAgICAgZGF0ZUFycmF5LnB1c2goZm9yZWNhc3QuZGF0ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1heFRlbXBBcnJheUMsXG4gICAgICAgIG1pblRlbXBBcnJheUMsXG4gICAgICAgIG1heFRlbXBBcnJheUYsXG4gICAgICAgIG1pblRlbXBBcnJheUYsXG4gICAgICAgIGNvbmRpdGlvbkljb25zQXJyYXksXG4gICAgICAgIGNvbmRpdGlvblRleHRBcnJheSxcbiAgICAgICAgZGF0ZUFycmF5LFxuICAgICAgfTtcbiAgICB9LFxuICB9O1xuICByZXR1cm4gZm9yZWNhc3REYXRhO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hGb3JlY2FzdERhdGEobG9jYXRpb24pIHtcbiAgY29uc3QgZm9yZWNhc3RBUEkgPSBgaHR0cDovL2FwaS53ZWF0aGVyYXBpLmNvbS92MS9mb3JlY2FzdC5qc29uP2tleT0xZDM4ZjI3NDA1Yzc0MjczOTUwMjM1MjU5MjMxMTA3JnE9JHtsb2NhdGlvbn0mZGF5cz0zYDtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZm9yZWNhc3RBUEksIHsgbW9kZTogXCJjb3JzXCIgfSk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBkYXRhT2JqZWN0ID0gY29sbGVjdEZvcmVjYXN0RGF0YShkYXRhKTtcbiAgICBkaXNwbGF5Rm9yZWNhc3QoZGF0YU9iamVjdCk7XG4gICAgY29sbGVjdEZvcmVjYXN0RGF0YShkYXRhKTtcbiAgICBjb25zb2xlLmxvZyhjb2xsZWN0Rm9yZWNhc3REYXRhKGRhdGEpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZmV0Y2hGb3JlY2FzdERhdGE7XG4iLCJpbXBvcnQgeyBkaXNwbGF5Q3VycmVudFdlYXRoZXIgfSBmcm9tIFwiLi4vdmlldy9kb21cIjtcblxuY29uc3QgY29sbGVjdEN1cnJlbnRXZWF0aGVyRGF0YSA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHJlYWx0aW1lRGF0YSA9IHtcbiAgICBjb3VudHJ5OiBkYXRhLmxvY2F0aW9uLmNvdW50cnksXG4gICAgbmFtZTogZGF0YS5sb2NhdGlvbi5uYW1lLFxuICAgIHJlZ2lvbjogZGF0YS5sb2NhdGlvbi5yZWdpb24sXG4gICAgY29uZGl0aW9uOiBkYXRhLmN1cnJlbnQuY29uZGl0aW9uLnRleHQsXG4gICAgdGVtcGVyYXR1cmVGOiBkYXRhLmN1cnJlbnQudGVtcF9mLFxuICAgIHRlbXBlcmF0dXJlQzogZGF0YS5jdXJyZW50LnRlbXBfYyxcbiAgICBodW1pZGl0eTogZGF0YS5jdXJyZW50Lmh1bWlkaXR5LFxuICB9O1xuICByZXR1cm4gcmVhbHRpbWVEYXRhO1xufTtcblxuY29uc3QgZmV0Y2hXZWF0aGVyRGF0YSA9IGFzeW5jIChsb2NhdGlvbikgPT4ge1xuICBjb25zdCByZWFsdGltZUFQSSA9IGBodHRwOi8vYXBpLndlYXRoZXJhcGkuY29tL3YxL2N1cnJlbnQuanNvbj9rZXk9MWQzOGYyNzQwNWM3NDI3Mzk1MDIzNTI1OTIzMTEwNyZxPSR7bG9jYXRpb259YDtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVhbHRpbWVBUEksIHsgbW9kZTogXCJjb3JzXCIgfSk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBkYXRhT2JqZWN0ID0gY29sbGVjdEN1cnJlbnRXZWF0aGVyRGF0YShkYXRhKTtcbiAgICBkaXNwbGF5Q3VycmVudFdlYXRoZXIoZGF0YU9iamVjdCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNoV2VhdGhlckRhdGE7XG4iLCJpbXBvcnQgZmV0Y2hGb3JlY2FzdERhdGEgZnJvbSBcIi4vbW9kdWxlcy9sb2dpYy9mb3JlY2FzdFwiO1xuaW1wb3J0IGZldGNoV2VhdGhlckRhdGEgZnJvbSBcIi4vbW9kdWxlcy9sb2dpYy9yZWFsdGltZVdlYXRoZXJcIjtcbmltcG9ydCB7IGxvY2F0aW9uU3VibWl0LCB0b0ZhaHJlbmhlaXRCdXR0b24gfSBmcm9tIFwiLi9tb2R1bGVzL3ZpZXcvZG9tXCI7XG5cbmZldGNoRm9yZWNhc3REYXRhKFwiUGFyaXNcIik7XG5mZXRjaFdlYXRoZXJEYXRhKFwiUGFyaXNcIik7XG5cbmxvY2F0aW9uU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgY29uc3QgbG9jYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0TG9jYXRpb25cIik7XG4gIGNvbnN0IGxvY2F0aW9uVmFsdWUgPSBsb2NhdGlvbi52YWx1ZTtcblxuICBmZXRjaFdlYXRoZXJEYXRhKGxvY2F0aW9uVmFsdWUpO1xuICBmZXRjaEZvcmVjYXN0RGF0YShsb2NhdGlvblZhbHVlKTtcblxuICBsb2NhdGlvbi52YWx1ZSA9IFwiXCI7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59KTtcblxudG9GYWhyZW5oZWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgY29uc3QgbG9jYXRpb25UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2NhdGlvblwiKS50ZXh0Q29udGVudDtcbiAgY29uc3QgY3VycmVudFdlYXRoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmN1cnJlbnRXZWF0aGVyXCIpO1xuICBjb25zdCBmb3JlY2FzdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9yZWNhc3REYXRhQ29udGFpbmVyXCIpO1xuICBjb25zdCBjdXJyZW50V2VhdGhlclZhbHVlID0gY3VycmVudFdlYXRoZXIuZGF0YXNldC52YWx1ZTtcbiAgY29uc3QgZm9yZWNhc3RDb250YWluZXJWYWx1ZSA9IGZvcmVjYXN0Q29udGFpbmVyLmRhdGFzZXQudmFsdWU7XG4gIGNvbnN0IHRvRkJ1dHRvbiA9IGV2ZW50O1xuXG4gIGlmIChcbiAgICBjdXJyZW50V2VhdGhlclZhbHVlID09PSBcImNlbHNpdXNcIiB8fFxuICAgIGZvcmVjYXN0Q29udGFpbmVyVmFsdWUgPT09IFwiY2Vsc2l1c1wiXG4gICkge1xuICAgIGN1cnJlbnRXZWF0aGVyLmRhdGFzZXQudmFsdWUgPSBcImZhaHJlbmhlaXRcIjtcbiAgICBmb3JlY2FzdENvbnRhaW5lci5kYXRhc2V0LnZhbHVlID0gXCJmYWhyZW5oZWl0XCI7XG4gICAgZmV0Y2hXZWF0aGVyRGF0YShsb2NhdGlvblRleHQpO1xuICAgIGZldGNoRm9yZWNhc3REYXRhKGxvY2F0aW9uVGV4dCk7XG4gICAgdG9GQnV0dG9uLnRhcmdldC50ZXh0Q29udGVudCA9IFwiRGlzcGxheSDCsENcIjtcbiAgfSBlbHNlIGlmIChcbiAgICBjdXJyZW50V2VhdGhlclZhbHVlID09PSBcImZhaHJlbmhlaXRcIiB8fFxuICAgIGZvcmVjYXN0Q29udGFpbmVyVmFsdWUgPT09IFwiZmFocmVuaGVpdFwiXG4gICkge1xuICAgIGN1cnJlbnRXZWF0aGVyLmRhdGFzZXQudmFsdWUgPSBcImNlbHNpdXNcIjtcbiAgICBmb3JlY2FzdENvbnRhaW5lci5kYXRhc2V0LnZhbHVlID0gXCJjZWxzaXVzXCI7XG4gICAgZmV0Y2hXZWF0aGVyRGF0YShsb2NhdGlvblRleHQpO1xuICAgIGZldGNoRm9yZWNhc3REYXRhKGxvY2F0aW9uVGV4dCk7XG4gICAgdG9GQnV0dG9uLnRhcmdldC50ZXh0Q29udGVudCA9IFwiRGlzcGxheSDCsEZcIjtcbiAgfVxufSk7XG4iXSwibmFtZXMiOlsibG9jYXRpb25TdWJtaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0ZhaHJlbmhlaXRCdXR0b24iLCJjb2xsZWN0Rm9yZWNhc3REYXRhIiwiZGF0YSIsImZvcmVjYXN0RGF0YSIsImhpZ2hlc3RDIiwiZm9yZWNhc3QiLCJmb3JlY2FzdGRheSIsImRheSIsIm1heHRlbXBfYyIsImxvd2VzdEMiLCJtaW50ZW1wX2MiLCJoaWdoZXN0RiIsIm1heHRlbXBfZiIsImxvd2VzdEYiLCJtaW50ZW1wX2YiLCJ0aHJlZURheUZvcmVjYXN0IiwiZ2V0VGhyZWVEYXlNYXhBbmRNaW5UZW1wIiwibWF4VGVtcEFycmF5QyIsIm1pblRlbXBBcnJheUMiLCJtYXhUZW1wQXJyYXlGIiwibWluVGVtcEFycmF5RiIsImNvbmRpdGlvbkljb25zQXJyYXkiLCJjb25kaXRpb25UZXh0QXJyYXkiLCJkYXRlQXJyYXkiLCJ0aGlzIiwiZm9yRWFjaCIsInB1c2giLCJjb25kaXRpb24iLCJpY29uIiwidGV4dCIsImRhdGUiLCJhc3luYyIsImxvY2F0aW9uIiwiZm9yZWNhc3RBUEkiLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsImpzb24iLCJjdXJyZW50V2VhdGhlciIsImZvcmVjYXN0Q29udGFpbmVyIiwiaGlnaCIsImxvdyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25kaXRpb25JY29uIiwiY29uZGl0aW9uVGV4dCIsImZvcmVjYXN0VGVtcCIsImRhdGFzZXQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwiaW5kZXgiLCJkYXRlVGV4dCIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsIndlZWtkYXkiLCJzcmMiLCJmb3JlY2FzdFRleHQiLCJkaXNwbGF5Rm9yZWNhc3QiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJyZWFsdGltZUFQSSIsImN1cnJlbnRUZW1wIiwibmFtZSIsInJlZ2lvbiIsImNvdW50cnkiLCJ0ZW1wZXJhdHVyZUMiLCJ0ZW1wZXJhdHVyZUYiLCJkaXNwbGF5Q3VycmVudFdlYXRoZXIiLCJjdXJyZW50IiwidGVtcF9mIiwidGVtcF9jIiwiaHVtaWRpdHkiLCJvayIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJsb2NhdGlvblZhbHVlIiwicHJldmVudERlZmF1bHQiLCJsb2NhdGlvblRleHQiLCJjdXJyZW50V2VhdGhlclZhbHVlIiwiZm9yZWNhc3RDb250YWluZXJWYWx1ZSIsInRvRkJ1dHRvbiIsInRhcmdldCJdLCJzb3VyY2VSb290IjoiIn0=